<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>sample page</title>
    <style type="text/css">
        * {
            margin: 0px;
            padding: 0px;
        }

        body {
            font-family: "Roboto";
        }

        #contents_wrap {
            width: fit-content;
            margin: 20px auto;
        }

        #patient_data {
            display: flex;
            justify-content: space-between;
        }

        h1,
        th {
            font-weight: lighter;
        }

        .title {
            text-align: left;
            font-size: xx-large;
        }

        .teeth_svg_row {
            height: 120px;
        }

        table {
            margin: 10px auto;
        }

        table,
        th,
        td {
            border-collapse: collapse;
            border: 1px solid #ccc;
            border-spacing: 0px;
        }

        td {
            text-align: center;
        }

        th {
            text-align: right;
        }

        #maxilla_b_teeth_svg_row td {
            background-image: url(./files/maxilla_b_line.svg);
            background-repeat: repeat;
        }

        #maxilla_p_teeth_svg_row td {
            background-image: url(./files/maxilla_p_line.svg);
            background-repeat: repeat;
        }

        .occlusal_svg_row {
            height: 45px;
        }

        .flip_horizontal {
            transform: scale(-1, 1);
        }

        #footer {
            background-color: cadetblue;
            color: white;
            padding: 6px;
            font-size: small;
            text-align: center;
        }

        .teeth_svg_row>td:first-of-type {
            position: relative;
        }

        .line {
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
        }
    </style>
</head>

<body>
    <div id="contents_wrap">
        <h1>Periodontal chart</h1>
        <div id="patient_data">
            <p>Patient Name: <input type="text" id="patient_name" placeholder="Patient Name"></p>
            <p>Patient Number: <input type="text" id="patient_number" placeholder="Patient Number"></p>
        </div>
        <p>Date: <input type="text" id="date" placeholder="Date"></p>
        <table id="maxilla_table">
            <tr id="maxilla_b_teeth_svg_row">
                <th></th>
                <td colspan="3"><img src="./files/maxilla_b_8.svg"></td>
                <td colspan="3"><img src="./files/maxilla_b_7.svg"></td>
                <td colspan="3"><img src="./files/maxilla_b_6.svg"></td>
                <td colspan="3"><img src="./files/maxilla_b_5.svg"></td>
                <td colspan="3"><img src="./files/maxilla_b_4.svg"></td>
                <td colspan="3"><img src="./files/maxilla_b_3.svg"></td>
                <td colspan="3"><img src="./files/maxilla_b_2.svg"></td>
                <td colspan="3"><img src="./files/maxilla_b_1.svg"></td>
                <td colspan="3"><img src="./files/maxilla_b_1.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_b_2.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_b_3.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_b_4.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_b_5.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_b_6.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_b_7.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_b_8.svg" class="flip_horizontal"></td>
            </tr>
            <tr>
                <th class="has_editable_td">POD</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th class="has_editable_td">Reccesion</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th class="has_editable_td">MM</th>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
            </tr>
            <tr>
                <th class="has_editable_td">Mobility</th>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
            </tr>
            <tr id="maxilla_p_teeth_svg_row">
                <th></th>
                <td colspan="3"><img src="./files/maxilla_p_8.svg"></td>
                <td colspan="3"><img src="./files/maxilla_p_7.svg"></td>
                <td colspan="3"><img src="./files/maxilla_p_6.svg"></td>
                <td colspan="3"><img src="./files/maxilla_p_5.svg"></td>
                <td colspan="3"><img src="./files/maxilla_p_4.svg"></td>
                <td colspan="3"><img src="./files/maxilla_p_3.svg"></td>
                <td colspan="3"><img src="./files/maxilla_p_2.svg"></td>
                <td colspan="3"><img src="./files/maxilla_p_1.svg"></td>
                <td colspan="3"><img src="./files/maxilla_p_1.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_p_2.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_p_3.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_p_4.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_p_5.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_p_6.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_p_7.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/maxilla_p_8.svg" class="flip_horizontal"></td>
            </tr>
            <tr>
                <th class="has_editable_td">POD</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th class="has_editable_td">Reccesion</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr class="occlusal_svg_row">
                <th></th>
                <td colspan="3"><img src="./files/occlusal_u_8.svg"></td>
                <td colspan="3"><img src="./files/occlusal_u_7.svg"></td>
                <td colspan="3"><img src="./files/occlusal_u_6.svg"></td>
                <td colspan="3"><img src="./files/occlusal_u_5.svg"></td>
                <td colspan="3"><img src="./files/occlusal_u_4.svg"></td>
                <td colspan="3"><img src="./files/occlusal_u_3.svg"></td>
                <td colspan="3"><img src="./files/occlusal_u_2.svg"></td>
                <td colspan="3"><img src="./files/occlusal_u_1.svg"></td>
                <td colspan="3"><img src="./files/occlusal_u_1.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_u_2.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_u_3.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_u_4.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_u_5.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_u_6.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_u_7.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_u_8.svg" class="flip_horizontal"></td>
            </tr>
        </table>
        <table id="status_table">
            <tr>
                <th rowspan="2">現在歯<br>情報</th>
                <th>歯数:</th>
                <td>20本</td>
                <th rowspan="2">歯周病関連<br>情報
                <th>Plaque:</th>
                <td>12%</td>
                <th>BOP:</th>
                <td>15%</td>
            </tr>
            <tr>
                <th>インプラント数:</th>
                <td>1本</td>
                <th>PISA:</th>
                <td>12</td>
                <th>PESA:</th>
                <td>15</td>
            </tr>
        </table>

        <table id="mandibular_table">
            <tr class="occlusal_svg_row">
                <th></th>
                <td colspan="3"><img src="./files/occlusal_l_8.svg"></td>
                <td colspan="3"><img src="./files/occlusal_l_7.svg"></td>
                <td colspan="3"><img src="./files/occlusal_l_6.svg"></td>
                <td colspan="3"><img src="./files/occlusal_l_5.svg"></td>
                <td colspan="3"><img src="./files/occlusal_l_4.svg"></td>
                <td colspan="3"><img src="./files/occlusal_l_3.svg"></td>
                <td colspan="3"><img src="./files/occlusal_l_2.svg"></td>
                <td colspan="3"><img src="./files/occlusal_l_1.svg"></td>
                <td colspan="3"><img src="./files/occlusal_l_1.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_l_2.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_l_3.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_l_4.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_l_5.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_l_6.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_l_7.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/occlusal_l_8.svg" class="flip_horizontal"></td>
            </tr>
            <tr id="mandibular_l_teeth_svg_row">
                <th></th>
                <td colspan="3"><img src="./files/mandibular_l_8.svg"></td>
                <td colspan="3"><img src="./files/mandibular_l_7.svg"></td>
                <td colspan="3"><img src="./files/mandibular_l_6.svg"></td>
                <td colspan="3"><img src="./files/mandibular_l_5.svg"></td>
                <td colspan="3"><img src="./files/mandibular_l_4.svg"></td>
                <td colspan="3"><img src="./files/mandibular_l_3.svg"></td>
                <td colspan="3"><img src="./files/mandibular_l_2.svg"></td>
                <td colspan="3"><img src="./files/mandibular_l_1.svg"></td>
                <td colspan="3"><img src="./files/mandibular_l_1.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_l_2.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_l_3.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_l_4.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_l_5.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_l_6.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_l_7.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_l_8.svg" class="flip_horizontal"></td>
            </tr>
            <tr>
                <th class="has_editable_td">POD</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th class="has_editable_td">Reccesion</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr id="mandibular_b_teeth_svg_row">
                <th></th>
                <td colspan="3"><img src="./files/mandibular_b_8.svg"></td>
                <td colspan="3"><img src="./files/mandibular_b_7.svg"></td>
                <td colspan="3"><img src="./files/mandibular_b_6.svg"></td>
                <td colspan="3"><img src="./files/mandibular_b_5.svg"></td>
                <td colspan="3"><img src="./files/mandibular_b_4.svg"></td>
                <td colspan="3"><img src="./files/mandibular_b_3.svg"></td>
                <td colspan="3"><img src="./files/mandibular_b_2.svg"></td>
                <td colspan="3"><img src="./files/mandibular_b_1.svg"></td>
                <td colspan="3"><img src="./files/mandibular_b_1.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_b_2.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_b_3.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_b_4.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_b_5.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_b_6.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_b_7.svg" class="flip_horizontal"></td>
                <td colspan="3"><img src="./files/mandibular_b_8.svg" class="flip_horizontal"></td>
            </tr>
            <tr>
                <th class="has_editable_td">POD</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th class="has_editable_td">Reccesion</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th class="has_editable_td">MM</th>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
            </tr>
            <tr class="has_editable_td">
                <th>Mobility</th>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
                <td colspan="3"></td>
            </tr>
        </table>
    </div>
    <footer id="footer">
        <p>© 2023 YOSHIDA Shuhei. All rights reserved.</p>
    </footer>
    <script>
        window.addEventListener('load', () => {
            document.querySelectorAll('.has_editable_td td').forEach(elm => {
                elm.contentEditable = true;
            });
        });

        window.addEventListener("load", function () {
            document.querySelectorAll("img").forEach((element) => {
                element.addEventListener("click", toggleBrightness, false);
            });
        });

        /**
        * 明度を切り替えます。
        * @param {object} e - event object
        */
        const toggleBrightness = (e) => {
            const me = e.target;
            const parentTd = me.parentNode;
            const parentTr = parentTd.parentNode;
            const parentTable = parentTr.parentNode;
            const targetTableRows = Array.from(parentTable.children).filter(child => child.classList.contains("teeth_svg_row") || child.classList.contains("occlusal_svg_row"));
            const cellIndex = Array.prototype.indexOf.call(parentTr.children, parentTd);
            const style = window.getComputedStyle(me).getPropertyValue("filter");
            console.log(`me: ${me}`)
            console.log(style);
            if (style == null || style == "none") {
                console.log("Target don't have style.")
                targetTableRows.forEach(tableRow => tableRow.children[cellIndex].children[0].style.filter = "brightness(0)")
            } else {
                console.log("Target has style.")
                targetTableRows.forEach(tableRow => tableRow.children[cellIndex].children[0].style.filter = null)
            }
        };
    </script>
</body>

</html>